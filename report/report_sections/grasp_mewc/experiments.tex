% ----- Experiments -----

\subsection{Experiments}

\begin{figure}[H]
    \centering
    \begin{tabular}{|c|c|ccc|ccc|}
        \hline
        \multirow{2}*{$\alpha$} & \multirow{2}*{iterations} & \multicolumn{3}{c|}{execution time} & \multicolumn{3}{c|}{weight} \\
        \cline{3-8} & & min & avg & max & min & avg & max \\
        \hline
        0.6 & 6 & 0.047 & 0.053 & 0.065 & 568 & 623.8 & 693 \\
            & 7 & 0.044 & 0.055 & 0.081 & 568 & 623.8 & 693 \\
            & 8 & 0.045 & 0.051 & 0.057 & 568 & 623.8 & 693 \\
        \hline
        0.7 & 6 & 0.048 & 0.057 & 0.074 & 568 & 619.2 & 693 \\
            & 7 & 0.046 & 0.058 & 0.077 & 568 & 623.8 & 693 \\
            & 8 & 0.048 & 0.056 & 0.064 & 568 & 623.8 & 693 \\
        \hline
        0.8 & 6 & 0.043 & 0.055 & 0.061 & 568 & 623.8 & 693 \\
            & 7 & 0.044 & 0.057 & 0.080 & 568 & 623.8 & 693 \\
            & 8 & 0.047 & 0.050 & 0.057 & 568 & 623.8 & 693 \\
        \hline
        0.9 & 6 & 0.045 & 0.054 & 0.061 & 568 & 623.8 & 693 \\
            & 7 & 0.049 & 0.057 & 0.067 & 568 & 623.8 & 693 \\
            & 8 & 0.049 & 0.055 & 0.062 & 568 & 619.2 & 693 \\
        \hline
    \end{tabular}
    \caption{Experimental results: \textsc{GRASP} solution statistics (20 vertices, 5 runs)}
    \label{fig:grasp_mewc_20_5}
\end{figure}

\begin{figure}[H]
    \centering
    \begin{tabular}{|c|c|ccc|ccc|}
        \hline
        \multirow{2}*{$\alpha$} & \multirow{2}*{iterations} & \multicolumn{3}{c|}{execution time} & \multicolumn{3}{c|}{weight} \\
        \cline{3-8} & & min & avg & max & min & avg & max \\
        \hline
        0.6 & 6 & 0.299 & 0.344 & 0.435 & 874 & 1 166.4 & 1 442 \\
            & 7 & 0.283 & 0.337 & 0.405 & 871 & 1 165.8 & 1 442 \\
            & 8 & 0.246 & 0.335 & 0.453 & 871 & 1 120.6 & 1 254 \\
        \hline
        0.7 & 6 & 0.304 & 0.344 & 0.406 & 838 & 1 114 & 1 254 \\
            & 7 & 0.271 & 0.327 & 0.404 & 838 & 1 114 & 1 254 \\
            & 8 & 0.294 & 0.350 & 0.453 & 871 & 1 165.8 & 1 442 \\
        \hline
        0.8 & 6 & 0.256 & 0.327 & 0.418 & 838 & 1 114 & 1 254 \\
            & 7 & 0.286 & 0.336 & 0.429 & 874 & 1 166.4 & 1 442 \\
            & 8 & 0.259 & 0.350 & 0.443 & 868 & 1 120 & 1 254 \\
        \hline
        0.9 & 6 & 0.284 & 0.318 & 0.358 & 874 & 1 089.4 & 1 254 \\
            & 7 & 0.279 & 0.329 & 0.421 & 1 000 & 1 133.2 & 1 254 \\
            & 8 & 0.269 & 0.326 & 0.412 & 871 & 1 165.8 & 1 442 \\
        \hline
    \end{tabular}
    \caption{Experimental results: \textsc{GRASP} solution statistics (40 vertices, 5 runs)}
    \label{fig:grasp_mewc_40_5}
\end{figure}

\begin{figure}[H]
    \centering
    \begin{tabular}{|c|c|ccc|ccc|}
        \hline
        \multirow{2}*{$\alpha$} & \multirow{2}*{iterations} & \multicolumn{3}{c|}{execution time} & \multicolumn{3}{c|}{weight} \\
        \cline{3-8} & & min & avg & max & min & avg & max \\
        \hline
        0.6 & 6 & 0.867 & 1.017 & 1.111 & 1 126 & 1 328 & 1 693 \\
            & 7 & 0.852 & 1.034 & 1.153 & 1 141 & 1 382.8 & 1 693 \\
            & 8 & 0.837 & 1.015 & 1.120 & 1 126 & 1 328 & 1 693 \\
        \hline
        0.7 & 6 & 0.752 & 1.053 & 1.235 & 1 126 & 1 335.2 & 1 693 \\
            & 7 & 0.788 & 1.021 & 1.228 & 1 141 & 1 359.2 & 1 693 \\
            & 8 & 0.935 & 1.050 & 1.171 & 1 141 & 1 359.2 & 1 693 \\
        \hline
        0.8 & 6 & 0.805 & 0.992 & 1.124 & 1 141 & 1 359.2 & 1 693 \\
            & 7 & 0.869 & 1.093 & 1.266 & 1 141 & 1 340.8 & 1 693 \\
            & 8 & 0.839 & 1.075 & 1.336 & 1 141 & 1 359.2 & 1 693 \\
        \hline
        0.9 & 6 & 0.720 & 0.995 & 1.128 & 1 126 & 1 328 & 1 693 \\
            & 7 & 0.803 & 1.046 & 1.260 & 1 141 & 1 348.2 & 1 693 \\
            & 8 & 0.845 & 1.059 & 1.196 & 1 141 & 1 379.8 & 1 693 \\
        \hline
    \end{tabular}
    \caption{Experimental results: \textsc{GRASP} solution statistics (60 vertices, 5 runs)}
    \label{fig:grasp_mewc_60_5}
\end{figure}

\begin{figure}[H]
    \centering
    \begin{tabular}{|c|c|ccc|ccc|}
        \hline
        \multirow{2}*{$\alpha$} & \multirow{2}*{iterations} & \multicolumn{3}{c|}{execution time} & \multicolumn{3}{c|}{weight} \\
        \cline{3-8} & & min & avg & max & min & avg & max \\
        \hline
        0.6 & 6 & 1.520 & 1.852 & 2.639 & 1 292 & 1 539.4 & 1 766 \\
            & 7 & 1.512 & 1.834 & 2.699 & 1 418 & 1 600.6 & 1 969 \\
            & 8 & 1.550 & 1.751 & 2.429 & 1 292 & 1 580 & 1 969 \\
        \hline
        0.7 & 6 & 1.564 & 1.864 & 2.654 & 1 292 & 1 531.6 & 1 969 \\
            & 7 & 1.398 & 1.772 & 2.524 & 1 372 & 1 593.8 & 1 766 \\
            & 8 & 1.499 & 1.868 & 2.575 & 1 408 & 1 598.6 & 1 969 \\
        \hline
        0.8 & 6 & 1.358 & 1.752 & 2.444 & 1 426 & 1 538.4 & 1 674 \\
            & 7 & 1.461 & 1.932 & 2.807 & 1 426 & 1 577 & 1 766 \\
            & 8 & 1.571 & 1.865 & 2.459 & 1 441 & 1 589.2 & 1 674 \\
        \hline
        0.9 & 6 & 1.537 & 1.823 & 2.472 & 1 282 & 1 561 & 1 969 \\
            & 7 & 1.524 & 1.816 & 2.433 & 1 292 & 1 467.4 & 1 674 \\
            & 8 & 1.512 & 1.753 & 2.499 & 1 282 & 1 562.6 & 1 969 \\
        \hline
    \end{tabular}
    \caption{Experimental results: \textsc{GRASP} solution statistics (80 vertices, 5 runs)}
    \label{fig:grasp_mewc_80_5}
\end{figure}

\begin{figure}[H]
    \centering
    \begin{tabular}{|c|c|ccc|ccc|}
        \hline
        \multirow{2}*{$\alpha$} & \multirow{2}*{iterations} & \multicolumn{3}{c|}{execution time} & \multicolumn{3}{c|}{weight} \\
        \cline{3-8} & & min & avg & max & min & avg & max \\
        \hline
        0.6 & 6 & 2.384 & 2.828 & 3.476 & 1 460 & 1 622.8 & 1 849 \\
            & 7 & 2.516 & 2.864 & 3.324 & 1 551 & 1 644.8 & 1 849 \\
            & 8 & 2.577 & 2.950 & 3.327 & 1 358 & 1 583.8 & 1 849 \\
        \hline
        0.7 & 6 & 2.497 & 2.879 & 3.430 & 1 452 & 1 726.8 & 2 109 \\
            & 7 & 2.474 & 2.735 & 3.154 & 1 555 & 1 708.2 & 1 849 \\
            & 8 & 2.465 & 2.785 & 3.085 & 1 555 & 1 674.8 & 1 849 \\
        \hline
        0.8 & 6 & 2.362 & 2.899 & 3.299 & 1 358 & 1 574.8 & 1 849 \\
            & 7 & 2.646 & 2.855 & 3.249 & 1 551 & 1 675.6 & 1 849 \\
            & 8 & 2.443 & 2.827 & 3.287 & 1 452 & 1 576.4 & 1 697 \\
        \hline
        0.9 & 6 & 2.355 & 2.765 & 3.424 & 1 522 & 1 651.2 & 1 849 \\
            & 7 & 2.525 & 2.998 & 3.653 & 1 630 & 1 714.8 & 1 849 \\
            & 8 & 2.445 & 2.795 & 3.353 & 1 555 & 1 676 & 1 849 \\
        \hline
    \end{tabular}
    \caption{Experimental results: \textsc{GRASP} solution statistics (100 vertices, 5 runs)}
    \label{fig:grasp_mewc_100_5}
\end{figure}


In this tables, we show the test we did for $\alpha$ to determinate which alpha is the better.
We move $\alpha$ from 0.1 to 0.9 for 10 to 100 vertices in a graph in wich we run each graph 5 times.
Like you can see, we decided to not show all the result because it will take so much place.
However, the $\alpha$ we show are the best candidate.
\bigskip

So, to determinate which $\alpha$ we will take. 
For each $\alpha$ we compare them  for different iterations going from 5 to 10 iterations with the execution time and weight of the final solution.
We took in our comparison the minimum, average and maximum of execution time and weight.

For the first table, you can see there is no big difference between the different $\alpha$ choose.
If we look closely, we can see the best average of weight is often for 7 iterations and for the execution we see that it's often in the middle.
So we decided to choose Retries in our alogorithm for 7.
\bigskip

Now for $\alpha$, we chose $\alpha$ = 0.9 because for each graph with differents number of vertices we found this $\alpha$ in the best average of weight and execution time.
In addition, it often has the highest  minimum weight. In our case, it is the best candidate.


\begin{figure}[H]
    \centering
    \begin{tikzpicture}
        \begin{semilogyaxis}[
                xlabel = Number of vertices,
                ylabel = Execution time ($\mu$s),
                legend pos = outer north east,
                grid = major,
                width = 0.7\textwidth,
            ]
            \addplot[Red, error bars/.cd, y dir=both, y explicit]
            table[x index=0, y index=1, y error index=2] {experiment_data/grasp_75_avg.dat};

            \addplot[Green, error bars/.cd, y dir=both, y explicit]
            table[x index=0, y index=1, y error index=2] {experiment_data/grasp_50_avg.dat};

            \addplot[Blue, error bars/.cd, y dir=both, y explicit]
            table[x index=0, y index=1, y error index=2] {experiment_data/grasp_25_avg.dat};

            %\addplot[Black, domain=0:300] {4.87734*x^2};


            \addlegendentry{test}

            \legend{75\%, 50\%, 25\%}
        \end{semilogyaxis}
    \end{tikzpicture}
    \caption{Execution time of the grasp algorithm for different percentages of connectivity.}
    \label{fig:grasp_time}
\end{figure}

For this experiment, we generated fifty random graphs with 20 to 200 vertices to
find an average execution time for each percentage of connectivity. The connectivity is the percentage of chance that 2 vertices are linked. The results
are shown in figure \ref{fig:grasp_time}. At each number of vertices, an average
execution time is calculated, and the standard deviation is represented by the
error bars. The number of graphs generated for each
percentage of connectivity and number of vertices is limited to 5 because it is a sufficient
number of tests to get what we want to analyze. Moreover, we use a semilog scale in the y axis that allows
us to highlight the results we want to analyze. If we use a lenear scale we will not see the 25\% of connectivity.
